var gt=Object.defineProperty,ht=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Io=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable;var _o=(e,n,t)=>n in e?gt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,f=(e,n)=>{for(var t in n||(n={}))Io.call(n,t)&&_o(e,t,n[t]);if(fe)for(var t of fe(n))Po.call(n,t)&&_o(e,t,n[t]);return e},O=(e,n)=>ht(e,vt(n));var P=(e,n)=>{var t={};for(var s in e)Io.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&fe)for(var s of fe(e))n.indexOf(s)<0&&Po.call(e,s)&&(t[s]=e[s]);return t};var Lo=(e,n,t)=>new Promise((s,a)=>{var r=c=>{try{m(t.next(c))}catch(p){a(p)}},l=c=>{try{m(t.throw(c))}catch(p){a(p)}},m=c=>c.done?s(c.value):Promise.resolve(c.value).then(r,l);m((t=t.apply(e,n)).next())});import we from"react";import Qt from"medium-zoom";import i from"react";import{getBlockIcon as Yt,getTextContent as de,getPageTableOfContents as Ue,getBlockParentPage as pt,uuidToId as Oe}from"notion-utils";import ye from"react";import{getBlockIcon as Dt,getBlockTitle as zt}from"notion-utils";import ge from"is-url-superb";var Ie=(e,n)=>{if(!e)return null;if(e.startsWith("data:")||e.startsWith("https://images.unsplash.com"))return e;e.startsWith("/images")&&(e=`https://www.notion.so${e}`),e=`https://www.notion.so${e.startsWith("/image")?e:`/image/${encodeURIComponent(e)}`}`;let t=new URL(e),s=n.parent_table==="space"?"block":n.parent_table;return s==="collection"&&(s="block"),t.searchParams.set("table",s),t.searchParams.set("id",n.id),t.searchParams.set("cache","v2"),e=t.toString(),e},Pe=e=>n=>(n=(n||"").replace(/-/g,""),e&&n===e?"/":`/${n}`),d=(...e)=>e.filter(n=>!!n).join(" "),bt=e=>{let n=[],t,s=-1;return Object.keys(e).forEach(a=>{var l,m;let r=(l=e[a])==null?void 0:l.value;r&&((m=r.content)==null||m.forEach(c=>{var u,N;let p=(N=(u=e[c])==null?void 0:u.value)==null?void 0:N.type;p&&p!==t&&(s++,t=p,n[s]=[]),s>-1&&n[s].push(c)})),t=void 0}),n},Bo=(e,n)=>{let s=bt(n).find(a=>a.includes(e));if(!!s)return s.indexOf(e)+1},So=e=>e.includes("#")?e.replace(/^.+(#.+)$/,"$1"):"",kt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],he=e=>{let n=new Date(e),t=n.getMonth();return`${kt[t]} ${n.getUTCDate()}, ${n.getUTCFullYear()}`},Mo=typeof window!="undefined";var Nt=new Set(["youtu.be","youtube.com","www.youtube.com","youtube-nocookie.com","www.youtube-nocookie.com"]),Uo=e=>{try{let{hostname:n}=new URL(e);if(!Nt.has(n))return null;let t=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/i,s=e.match(t);if(s&&s[2].length==11)return s[2]}catch(n){}return null};import Oo from"react";var To=e=>{let s=e,{className:n}=s,t=P(s,["className"]);return Oo.createElement("svg",O(f({className:n},t),{viewBox:"0 0 30 30",width:"16"}),Oo.createElement("path",{d:"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"}))};import ae from"react";import Le from"react";var Fo=e=>function(u){var N=u,{src:t,alt:s,width:a,height:r,className:l,style:m,layout:c}=N,p=P(N,["src","alt","width","height","className","style","layout"]);return c||(c=a&&r?"intrinsic":"fill"),Le.createElement(e,f({className:l,src:t,alt:s,width:c==="intrinsic"&&a,height:c==="intrinsic"&&r,objectFit:m==null?void 0:m.objectFit,objectPosition:m==null?void 0:m.objectPosition,layout:c},p))},Eo=e=>function(N){var w=N,{href:t,as:s,passHref:a,prefetch:r,replace:l,scroll:m,shallow:c,locale:p}=w,u=P(w,["href","as","passHref","prefetch","replace","scroll","shallow","locale"]);return Le.createElement(e,{href:t,as:s,passHref:a,prefetch:r,replace:l,scroll:m,shallow:c,locale:p},Le.createElement("a",f({},u)))};import te from"react";import q from"react";import{getTextContent as _t}from"notion-utils";import G from"react";import{LazyImageFull as yt,ImageState as Ct}from"react-lazy-images";import{normalizeUrl as xt}from"notion-utils";var Q=c=>{var p=c,{src:e,alt:n,className:t,style:s,zoomable:a=!1,priority:r=!1,height:l}=p,m=P(p,["src","alt","className","style","zoomable","priority","height"]);var z,V,A;let{recordMap:u,zoom:N,previewImages:w,forceCustomImages:C,components:h}=I(),o=G.useRef(N?N.clone():null),v=w?(A=(z=u==null?void 0:u.preview_images)==null?void 0:z[e])!=null?A:(V=u==null?void 0:u.preview_images)==null?void 0:V[xt(e)]:null,b=G.useCallback(y=>{a&&(y.target.src||y.target.srcset)&&o.current&&o.current.attach(y.target)},[o,a]),g=G.useCallback(y=>{o.current&&y&&o.current.attach(y)},[o]),U=G.useMemo(()=>a?g:void 0,[a,g]);if(v){let y=v.originalHeight/v.originalWidth;return h.Image?G.createElement(h.Image,{src:e,alt:n,style:s,className:t,width:v.originalWidth,height:v.originalHeight,blurDataURL:v.dataURIBase64,placeholder:"blur",priority:r,onLoad:b}):G.createElement(yt,O(f({src:e},m),{experimentalDecode:!0}),({imageState:_,ref:T})=>{let J=_===Ct.LoadSuccess,le={width:"100%"},x={};return l?le.height=l:(x.position="absolute",le.paddingBottom=`${y*100}%`),G.createElement("div",{className:d("lazy-image-wrapper",J&&"lazy-image-loaded",t),style:le},G.createElement("img",{className:"lazy-image-preview",src:v.dataURIBase64,alt:n,ref:T,style:s,decoding:"async"}),G.createElement("img",{className:"lazy-image-real",src:e,alt:n,ref:U,style:f(f({},s),x),width:v.originalWidth,height:v.originalHeight,decoding:"async",loading:"lazy"}))})}else return h.Image&&C?G.createElement(h.Image,{src:e,alt:n,className:t,style:s,width:null,height:l||null,priority:r,onLoad:b}):G.createElement("img",f({className:t,style:s,src:e,alt:n,ref:U,loading:"lazy",decoding:"async"},m))};import F from"react";var wt=e=>Object.keys(e).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`).join("&"),$o=({id:e,defaultPlay:n=!1,mute:t=!1,lazyImage:s=!1,iframeTitle:a="YouTube video",alt:r="Video preview",params:l={},adLinksPreconnect:m=!0,style:c,className:p})=>{let u=t||n?"1":"0",N=F.useMemo(()=>wt(f({autoplay:"1",mute:u},l)),[u,l]),C=`https://i.ytimg.com/vi/${e}/hqdefault.jpg`,h="https://www.youtube-nocookie.com",o=`${h}/embed/${e}?${N}`,[v,b]=F.useState(!1),[g,U]=F.useState(n),[z,V]=F.useState(!1),A=F.useCallback(()=>{v||b(!0)},[v]),y=F.useCallback(()=>{g||U(!0)},[g]),_=F.useCallback(()=>{V(!0)},[]);return F.createElement(F.Fragment,null,F.createElement("link",{rel:"preload",href:C,as:"image"}),v&&F.createElement(F.Fragment,null,F.createElement("link",{rel:"preconnect",href:h}),F.createElement("link",{rel:"preconnect",href:"https://www.google.com"})),v&&m&&F.createElement(F.Fragment,null,F.createElement("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),F.createElement("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})),F.createElement("div",{onClick:y,onPointerOver:A,className:d("notion-yt-lite",z&&"notion-yt-loaded",g&&"notion-yt-initialized",p),style:c},F.createElement("img",{src:C,className:"notion-yt-thumbnail",loading:s?"lazy":void 0,alt:r}),F.createElement("div",{className:"notion-yt-playbtn"}),g&&F.createElement("iframe",{width:"560",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:a,src:o,onLoad:_})))};var It=typeof window=="undefined",Pt=["video","image","embed","figma","typeform","excalidraw","maps","tweet","pdf","gist","codepen","drive"],Do=({block:e,children:n})=>{var p,u,N,w,C,h,o,v;let{recordMap:t,mapImageUrl:s,components:a}=I();if(!e||!Pt.includes(e.type))return null;let r={position:"relative",display:"flex",justifyContent:"center",alignSelf:"center",width:"100%",maxWidth:"100%",flexDirection:"column"},l={};if(e.format){let{block_aspect_ratio:b,block_height:g,block_width:U,block_full_width:z,block_page_width:V,block_preserve_scale:A}=e.format;z||V?(z?r.width="100vw":r.width="100%",e.type==="video"?g?r.height=g:b?r.paddingBottom=`${b*100}%`:A&&(r.objectFit="contain"):b&&e.type!=="image"?r.paddingBottom=`${b*100}%`:g?r.height=g:A&&(e.type==="image"?r.height="100%":(r.paddingBottom="75%",r.minHeight=100))):(U&&(r.width=U),A&&e.type!=="image"?(r.paddingBottom="50%",r.minHeight=100):g&&e.type!=="image"&&(r.height=g)),e.type==="image"?l.objectFit="cover":A&&(l.objectFit="contain")}let m=(N=(u=(p=e.properties)==null?void 0:p.source)==null?void 0:u[0])==null?void 0:N[0],c=null;if(e.type==="tweet"){let b=m;if(!b)return null;let g=b.split("?")[0].split("/").pop();if(!g)return null;c=q.createElement("div",{style:O(f({},l),{maxWidth:420,width:"100%",marginLeft:"auto",marginRight:"auto"})},q.createElement(a.Tweet,{id:g}))}else if(e.type==="pdf"){if(r.overflow="auto",r.padding="8px 16px",r.background="rgb(226, 226, 226)",!It){let b=(w=t.signed_urls)==null?void 0:w[e.id];if(!b)return null;c=q.createElement(a.Pdf,{file:b})}}else if(e.type==="embed"||e.type==="video"||e.type==="figma"||e.type==="typeform"||e.type==="gist"||e.type==="maps"||e.type==="excalidraw"||e.type==="codepen"||e.type==="drive"){let b=t.signed_urls[e.id];if(e.type==="video"&&b&&b.indexOf("youtube")<0&&b.indexOf("youtu.be")<0&&b.indexOf("vimeo")<0&&b.indexOf("wistia")<0&&b.indexOf("loom")<0&&b.indexOf("videoask")<0&&b.indexOf("getcloudapp")<0)c=q.createElement("video",{playsInline:!0,controls:!0,preload:"metadata",style:l,src:b,title:e.type});else{let g=(h=(C=e.format)==null?void 0:C.display_source)!=null?h:m;if(g){let U=e.type==="video"?Uo(g):null;console.log({youtubeVideoId:U,src:g,format:e.format,style:r}),U?c=q.createElement($o,{id:U,style:l,className:"notion-asset-object-fit"}):e.type==="gist"?(g.endsWith(".pibb")||(g=`${g}.pibb`),l.width="100%",r.paddingBottom="50%",c=q.createElement("iframe",{style:l,className:"notion-asset-object-fit",src:g,title:"GitHub Gist",frameBorder:"0",loading:"lazy",scrolling:"auto"})):c=q.createElement("iframe",{className:"notion-asset-object-fit",style:l,src:g,title:`iframe ${e.type}`,frameBorder:"0",allowFullScreen:!0,loading:"lazy"})}}}else if(e.type==="image"){let b=(o=t.signed_urls)==null?void 0:o[e.id],g=s(b||m,e),z=_t((v=e.properties)==null?void 0:v.caption)||"notion image";c=q.createElement(Q,{src:g,alt:z,zoomable:!0,height:r.height,style:l})}return q.createElement(q.Fragment,null,q.createElement("div",{style:r},c,e.type==="image"&&n),e.type!=="image"&&n)};import S from"react";import{parsePageId as Mt}from"notion-utils";import ve from"react";var X=a=>{var r=a,{block:e,className:n,defaultIcon:t}=r,s=P(r,["block","className","defaultIcon"]);var m,c,p;let{recordMap:l}=I();if(!e)return null;if(e.type==="collection_view_page"||e.type==="collection_view"){let u=(m=l.collection[e.collection_id])==null?void 0:m.value;u&&(e.properties=O(f({},e.properties),{title:u.name}),e.format=O(f({},e.format),{page_icon:u.icon}))}return(c=e.properties)!=null&&c.title?ve.createElement("span",f({className:d("notion-page-title",n)},s),ve.createElement(oe,{block:e,defaultIcon:t,className:"notion-page-title-icon"}),ve.createElement("span",{className:"notion-page-title-text"},ve.createElement(E,{value:(p=e.properties)==null?void 0:p.title,block:e}))):null};import zo from"react";import{Img as Lt}from"react-image";var me=e=>Mo?zo.createElement(Lt,f({},e)):zo.createElement("img",f({},e));import re,{useEffect as St,useState as Ao}from"react";import Be from"react";function Bt(e){return Be.createElement("svg",f({viewBox:"0 0 260 260"},e),Be.createElement("g",null,Be.createElement("path",{d:"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z",fill:"#161614"})))}var Ho=Bt;var be=({original_url:e,block:n,className:t})=>{let{components:s}=I(),a=new URL(e),[r,l]=Ao(a.pathname.substring(1)),[m,c]=Ao();return St(()=>{fetch(`https://api.github.com/repos/${r}`).then(p=>{if(!p.ok)throw Error(p.statusText);return p.json()}).then(p=>{c(p),l(p.name)}).catch(p=>console.error(p))},[r]),re.createElement(s.Link,{target:"_blank",rel:"noopener noreferrer",href:e,className:d("notion-external",n?"notion-external-block notion-row":"notion-external-mention",t)},re.createElement("div",{className:"notion-external-image"},re.createElement(Ho,null)),re.createElement("div",{className:"notion-external-description"},re.createElement("div",{className:"notion-external-title"},r),m&&re.createElement("div",{className:"notion-external-subtitle"},`${m.owner.login} \u2022 Updated on ${m.updated_at.substring(0,10)}`)))};var E=({value:e,block:n,linkProps:t,linkProtocol:s})=>{let{components:a,recordMap:r,mapPageUrl:l,mapImageUrl:m,rootDomain:c}=I();return S.createElement(S.Fragment,null,e==null?void 0:e.map(([p,u],N)=>{if(!u)return p===","?S.createElement("span",{key:N,style:{padding:"0.5em"}}):S.createElement(S.Fragment,{key:N},p);let w=u.reduce((C,h)=>{var o,v,b,g,U,z,V,A;switch(h[0]){case"p":{let y=h[1],_=(o=r.block[y])==null?void 0:o.value;return _?S.createElement(a.PageLink,{className:"notion-link",href:l(y)},S.createElement(X,{block:_})):(console.log('"p" missing block',y),null)}case"\u2023":{let y=h[1][0],_=h[1][1];switch(y){case"u":{let T=(v=r.notion_user[_])==null?void 0:v.value;if(!T)return console.log('"\u2023" missing user',_),null;let J=[T.given_name,T.family_name].filter(Boolean).join(" ");return S.createElement(me,{className:"notion-user",src:m(T.profile_photo,n),alt:J})}default:{let T=(b=r.block[_])==null?void 0:b.value;return T?S.createElement(a.PageLink,O(f({className:"notion-link",href:l(_)},t),{target:"_blank",rel:"noopener noreferrer"}),S.createElement(X,{block:T})):(console.log('"\u2023" missing block',y,_),null)}}}case"h":return S.createElement("span",{className:`notion-${h[1]}`},C);case"c":return S.createElement("code",{className:"notion-inline-code"},C);case"b":return S.createElement("b",null,C);case"i":return S.createElement("em",null,C);case"s":return S.createElement("s",null,C);case"_":return S.createElement("span",{className:"notion-inline-underscore"},C);case"e":return S.createElement(a.Equation,{math:h[1],inline:!0});case"m":return C;case"a":{let y=h[1],_=y.substr(1),T=Mt(_,{uuid:!0});if((y[0]==="/"||y.includes(c))&&T){let J=y.includes(c)?y:`${l(T)}${So(y)}`;return S.createElement(a.PageLink,f({className:"notion-link",href:J},t),C)}else return S.createElement(a.Link,f({className:"notion-link",href:s?`${s}:${h[1]}`:h[1]},t),C)}case"d":{let y=h[1],_=y==null?void 0:y.type;if(_==="date"){let T=y.start_date;return he(T)}else if(_==="daterange"){let T=y.start_date,J=y.end_date;return`${he(T)} \u2192 ${he(J)}`}else return C}case"u":{let y=h[1],_=(g=r.notion_user[y])==null?void 0:g.value;if(!_)return console.log("missing user",y),null;let T=[_.given_name,_.family_name].filter(Boolean).join(" ");return S.createElement(me,{className:"notion-user",src:m(_.profile_photo,n),alt:T})}case"eoi":{let y=h[1],_=(U=r.block[y])==null?void 0:U.value;switch((z=_==null?void 0:_.format)==null?void 0:z.domain){case"github.com":return S.createElement(be,{original_url:(V=_.format)==null?void 0:V.original_url,className:y});default:return S.createElement("div",null)}}default:return C}},S.createElement(S.Fragment,null,p));return S.createElement(S.Fragment,{key:N},w)}))};import{parsePageId as Vo}from"notion-utils";var pe=({blockId:e,block:n})=>{var c,p,u,N,w,C;let t=n,{components:s,mapPageUrl:a,rootDomain:r}=I(),l=!1;if(((p=(c=t==null?void 0:t.properties)==null?void 0:c.caption)==null?void 0:p.length)>0){let h=(u=t==null?void 0:t.properties)==null?void 0:u.caption[0][0],o=Vo(h,{uuid:!0}),v=h.charAt(0)==="/"&&o;(n.type=="image"&&Ut(h)||v)&&(l=!0)}let m=te.createElement("figure",{className:d("notion-asset-wrapper",`notion-asset-wrapper-${n.type}`,((N=t.format)==null?void 0:N.block_full_width)&&"notion-asset-wrapper-full",e)},te.createElement(Do,{block:t},((w=t==null?void 0:t.properties)==null?void 0:w.caption)&&!l&&te.createElement("figcaption",{className:"notion-asset-caption"},te.createElement(E,{value:t.properties.caption,block:n}))));if(l){let h=(C=t==null?void 0:t.properties)==null?void 0:C.caption[0][0],o=Vo(h,{uuid:!0}),v=h.charAt(0)==="/"&&o,b=Ot(h);return te.createElement(s.PageLink,{style:{width:"100%"},href:v?a(o):h,target:b&&b!==r&&!h.startsWith("/")?"blank_":null},m)}return te.createElement(te.Fragment,null,m)};function Ut(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}function Ot(e){try{return new URL(e).hostname}catch(n){return""}}import ke from"react";import jo from"react";function Tt(e){return jo.createElement("svg",f({viewBox:"0 0 14 14"},e),jo.createElement("path",{d:"M5.5 12L14 3.5 12.5 2l-7 7-4-4.003L0 6.499z"}))}var Go=Tt;var qo=({isChecked:e})=>{let n=null;return e?n=ke.createElement("div",{className:"notion-property-checkbox-checked"},ke.createElement(Go,null)):n=ke.createElement("div",{className:"notion-property-checkbox-unchecked"}),ke.createElement("span",{className:"notion-property notion-property-checkbox"},n)};var Ft=e=>ae.createElement("a",f({target:"_blank",rel:"noopener noreferrer"},e)),Et=e=>ae.createElement("a",f({},e)),$t=pe,ui=r=>{var l=r,{href:e,rel:n,target:t,title:s}=l,a=P(l,["href","rel","target","title"]);return ae.createElement("span",f({},a))},se=e=>()=>(console.warn(`Warning: using empty component "${e}" (you should override this in NotionRenderer.components)`),null),Wo={Image:null,Link:Ft,PageLink:Et,Checkbox:qo,Code:se("Code"),Equation:se("Equation"),Collection:se("Collection"),Pdf:se("Pdf"),Tweet:se("Tweet"),Modal:se("Modal"),Embed:$t},Zo={recordMap:{block:{},collection:{},collection_view:{},collection_query:{},notion_user:{},signed_urls:{}},components:Wo,mapPageUrl:Pe(),mapImageUrl:Ie,searchNotion:null,fullPage:!1,darkMode:!1,previewImages:!1,forceCustomImages:!1,showCollectionViewDropdown:!0,showTableOfContents:!1,minTableOfContentsItems:3,defaultPageIcon:null,defaultPageCover:null,defaultPageCoverPosition:.5,zoom:null},Se=ae.createContext(Zo),Ne=l=>{var m=l,{components:e={},children:n,mapPageUrl:t,mapImageUrl:s,rootPageId:a}=m,r=P(m,["components","children","mapPageUrl","mapImageUrl","rootPageId"]);for(let p of Object.keys(r))r[p]===void 0&&delete r[p];let c=f({},e);c.nextImage&&(c.Image=Fo(e.nextImage)),c.nextLink&&(c.nextLink=Eo(e.nextLink));for(let p of Object.keys(c))c[p]||delete c[p];return ae.createElement(Se.Provider,{value:O(f(f({},Zo),r),{rootPageId:a,mapPageUrl:t!=null?t:Pe(a),mapImageUrl:s!=null?s:Ie,components:f(f({},Wo),c)})},n)},Jo=Se.Consumer,I=()=>ae.useContext(Se);var Ht=e=>e.type==="page"||e.type==="callout"||e.type==="collection_view"||e.type==="collection_view_page",oe=({block:e,className:n,inline:t=!0,hideDefaultIcon:s=!1,defaultIcon:a})=>{var p;let{mapImageUrl:r,recordMap:l}=I(),m=!1,c=null;if(Ht(e)){let u=((p=Dt(e,l))==null?void 0:p.trim())||a,N=zt(e,l);if(u&&ge(u)){let w=r(u,e);m=!0,c=ye.createElement(Q,{src:w,alt:N||"page icon",className:d(n,"notion-page-icon")})}else u?(m=!1,c=ye.createElement("span",{className:d(n,"notion-page-icon"),role:"img","aria-label":u},u)):s||(m=!0,c=ye.createElement(To,{className:d(n,"notion-page-icon"),alt:N||"page icon"}))}return c?ye.createElement("div",{className:d(t?"notion-page-icon-inline":"notion-page-icon-hero",m?"notion-page-icon-image":"notion-page-icon-span")},c):null};import K from"react";import At from"lodash.throttle";import{uuidToId as Vt}from"notion-utils";var Yo=({toc:e,activeSection:n,setActiveSection:t,pageAside:s,hasToc:a,hasAside:r,className:l})=>{let{darkMode:m}=I(),c=100,p=K.useMemo(()=>At(()=>{let u=document.getElementsByClassName("notion-h"),N=null,w=n;for(let C=0;C<u.length;++C){let h=u[C];if(!h||!(h instanceof Element))continue;w||(w=h.getAttribute("data-id"));let o=h.getBoundingClientRect(),v=N?o.top-N.bottom:0,b=Math.max(150,v/4);if(o.top-b<0){w=h.getAttribute("data-id"),N=o;continue}break}t(w)},c),[t]);return K.useEffect(()=>{if(!!a)return window.addEventListener("scroll",p),p(),()=>{window.removeEventListener("scroll",p)}},[a,p]),r?K.createElement("aside",{className:d("notion-aside",l)},a&&K.createElement("div",{className:"notion-aside-table-of-contents"},K.createElement("div",{className:"notion-aside-table-of-contents-header"},"Table of Contents"),K.createElement("nav",{className:d("notion-table-of-contents",!m&&"notion-gray")},e.map(u=>{let N=Vt(u.id);return K.createElement("a",{key:N,href:`#${N}`,className:d("notion-table-of-contents-item",`notion-table-of-contents-item-indent-level-${u.indentLevel}`,n===N&&"notion-table-of-contents-active-item")},K.createElement("span",{className:"notion-table-of-contents-item-body",style:{display:"inline-block",marginLeft:u.indentLevel*16}},u.text))}))),s):null};import Qo from"react";var Xo=e=>{let s=e,{className:n}=s,t=P(s,["className"]);return Qo.createElement("svg",O(f({className:n},t),{viewBox:"0 0 16 16",width:"16",height:"16"}),Qo.createElement("path",{fillRule:"evenodd",d:"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"}))};import $ from"react";import{useHotkeys as tt}from"react-hotkeys-hook";import{getPageBreadcrumbs as Wt}from"notion-utils";import Ko from"react";var Ce=e=>{let s=e,{className:n}=s,t=P(s,["className"]);return Ko.createElement("svg",f({className:d("notion-icon",n),viewBox:"0 0 17 17"},t),Ko.createElement("path",{d:"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z"}))};import L from"react";import jt from"lodash.throttle";import{getBlockTitle as Gt,getBlockParentPage as qt}from"notion-utils";import Ro from"react";var et=e=>{let s=e,{className:n}=s,t=P(s,["className"]);return Ro.createElement("svg",O(f({className:d("notion-icon",n)},t),{viewBox:"0 0 30 30"}),Ro.createElement("path",{d:"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z"}))};import W from"react";var ot=e=>{let s=e,{className:n}=s,t=P(s,["className"]);return W.createElement("svg",O(f({className:d("notion-icon",n)},t),{viewBox:"0 0 24 24"}),W.createElement("defs",null,W.createElement("linearGradient",{x1:"28.1542969%",y1:"63.7402344%",x2:"74.6289062%",y2:"17.7832031%",id:"linearGradient-1"},W.createElement("stop",{stopColor:"rgba(164, 164, 164, 1)",offset:"0%"}),W.createElement("stop",{stopColor:"rgba(164, 164, 164, 0)",stopOpacity:"0",offset:"100%"}))),W.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none"},W.createElement("g",{transform:"translate(-236.000000, -286.000000)"},W.createElement("g",{transform:"translate(238.000000, 286.000000)"},W.createElement("circle",{id:"Oval-2",stroke:"url(#linearGradient-1)",strokeWidth:"4",cx:"10",cy:"12",r:"10"}),W.createElement("path",{d:"M10,2 C4.4771525,2 0,6.4771525 0,12",id:"Oval-2",stroke:"rgba(164, 164, 164, 1)",strokeWidth:"4"}),W.createElement("rect",{id:"Rectangle-1",fill:"rgba(164, 164, 164, 1)",x:"8",y:"0",width:"4",height:"4",rx:"8"})))))};var Me=class extends L.Component{constructor(n){super(n);this.state={isLoading:!1,query:"",searchResult:null,searchError:null};this._onAfterOpen=()=>{this._inputRef.current&&this._inputRef.current.focus()};this._onChangeQuery=n=>{let t=n.target.value;if(this.setState({query:t}),t.trim())this._search();else{this.setState({isLoading:!1,searchResult:null,searchError:null});return}};this._onClearQuery=()=>{this._onChangeQuery({target:{value:""}})};this._searchImpl=()=>Lo(this,null,function*(){let{searchNotion:n}=this.props,{query:t}=this.state;if(!t.trim()){this.setState({isLoading:!1,searchResult:null,searchError:null});return}this.setState({isLoading:!0});let s=yield n({query:t,ancestorId:this.props.rootBlockId});console.log("search",t,s);let a=null,r=null;s.error||s.errorId?r=s:(a=f({},s),a.results=a.results.map(l=>{var p,u;let m=(p=a.recordMap.block[l.id])==null?void 0:p.value;if(!m)return;let c=Gt(m,a.recordMap);if(!!c)return l.title=c,l.block=m,l.page=qt(m,a.recordMap,{inclusive:!0})||m,l.recordMap=a.recordMap,(u=l.highlight)!=null&&u.text&&(l.highlight.html=l.highlight.text.replace(/<gzkNfoUU>/gi,"<b>").replace(/<\/gzkNfoUU>/gi,"</b>")),l}).filter(Boolean)),this.state.query===t&&this.setState({isLoading:!1,searchResult:a,searchError:r})});this._inputRef=L.createRef()}componentDidMount(){this._search=jt(this._searchImpl.bind(this),1e3)}render(){let{isOpen:n,onClose:t}=this.props,{isLoading:s,query:a,searchResult:r,searchError:l}=this.state,m=!!a.trim();return L.createElement(Jo,null,c=>{let{components:p,defaultPageIcon:u,mapPageUrl:N}=c;return L.createElement(p.Modal,{isOpen:n,contentLabel:"Search",className:"notion-search",overlayClassName:"notion-search-overlay",onRequestClose:t,onAfterOpen:this._onAfterOpen},L.createElement("div",{className:"quickFindMenu"},L.createElement("div",{className:"searchBar"},L.createElement("div",{className:"inlineIcon"},s?L.createElement(ot,{className:"loadingIcon"}):L.createElement(Ce,null)),L.createElement("input",{className:"searchInput",placeholder:"Search",value:a,ref:this._inputRef,onChange:this._onChangeQuery}),a&&L.createElement("div",{role:"button",className:"clearButton",onClick:this._onClearQuery},L.createElement(et,{className:"clearIcon"}))),m&&r&&L.createElement(L.Fragment,null,r.results.length?L.createElement(Ne,O(f({},c),{recordMap:r.recordMap}),L.createElement("div",{className:"resultsPane"},r.results.map(w=>{var C;return L.createElement(p.PageLink,{key:w.id,className:d("result","notion-page-link"),href:N(w.page.id,r.recordMap)},L.createElement(X,{block:w.page,defaultIcon:u}),((C=w.highlight)==null?void 0:C.html)&&L.createElement("div",{className:"notion-search-result-highlight",dangerouslySetInnerHTML:{__html:w.highlight.html}}))})),L.createElement("footer",{className:"resultsFooter"},L.createElement("div",null,L.createElement("span",{className:"resultsCount"},r.total),r.total===1?" result":" results"))):L.createElement("div",{className:"noResultsPane"},L.createElement("div",{className:"noResults"},"No results"),L.createElement("div",{className:"noResultsDetail"},"Try different search terms"))),m&&!r&&l&&L.createElement("div",{className:"noResultsPane"},L.createElement("div",{className:"noResults"},"Search error"))))})}};var nt=({header:e})=>{let b=I(),{components:n,recordMap:t,rootPageId:s,mapPageUrl:a,searchNotion:r}=b,l=P(b,["components","recordMap","rootPageId","mapPageUrl","searchNotion"]),m=t.block,c=Object.keys(m),p=c[0],u=!!r,N=Wt(t,p),[w,C]=$.useState(!1),h=$.useCallback(()=>{C(!0)},[]),o=$.useCallback(()=>{C(!1)},[]);if(tt("cmd+p",g=>{h(),g.preventDefault(),g.stopPropagation()}),tt("cmd+k",g=>{h(),g.preventDefault(),g.stopPropagation()}),!p)return null;let v=[$.createElement("div",{className:"breadcrumbs",key:"breadcrumbs"},N.map((g,U)=>{let z={},V={pageLink:n.PageLink};return g.active?V.pageLink=A=>$.createElement("div",f({},A)):z.href=a(g.pageId),$.createElement($.Fragment,{key:g.pageId},$.createElement(V.pageLink,f({className:d("breadcrumb",g.active&&"active")},z),g.icon&&$.createElement(oe,{className:"icon",block:g.block}),g.title&&$.createElement("span",{className:"title"},g.title)),U<N.length-1&&$.createElement("span",{className:"spacer"},"/"))})),$.createElement("div",{className:"rhs",key:"rhs"},u&&$.createElement("div",{role:"button",className:d("breadcrumb","button","notion-search-button"),onClick:h},$.createElement(Ce,{className:"searchIcon"}),$.createElement("span",{className:"title"},"Search"))),$.createElement($.Fragment,{key:"search"},w&&u&&$.createElement(Me,{isOpen:w,rootBlockId:s||p,onClose:o,searchNotion:r}))];return e?$.createElement(e,f({activePageId:p,blockIds:c,blockMap:m,breadcrumbs:N,className:"notion-header",components:n,hasSearch:u,headerComponents:v,isSearchOpen:w,mapPageUrl:a,onCloseSearch:o,onOpenSearch:h,recordMap:t,rootPageId:s,searchNotion:r,setIsSearchOpen:C},l)):$.createElement("header",{className:"notion-header"},$.createElement("div",{className:"nav-header"},v[0],v[1]),v[2])};import Z from"react";import{format as Zt}from"timeago.js";var it=({block:e,className:n})=>{var l;let{components:t,mapImageUrl:s}=I(),a=(l=e.format)==null?void 0:l.drive_properties;if(!a)return null;let r;try{r=new URL(a.url).hostname}catch(m){}return Z.createElement("div",{className:d("notion-google-drive",n)},Z.createElement(t.Link,{className:"notion-google-drive-link",href:a.url,target:"_blank",rel:"noopener noreferrer"},Z.createElement("div",{className:"notion-google-drive-preview"},Z.createElement(me,{src:s(a.thumbnail,e),alt:a.title||"Google Drive Document",loading:"lazy"})),Z.createElement("div",{className:"notion-google-drive-body"},a.title&&Z.createElement("div",{className:"notion-google-drive-body-title"},a.title),a.modified_time&&Z.createElement("div",{className:"notion-google-drive-body-modified-time"},"Last modified"," ",a.user_name?`by ${a.user_name} `:"",Zt(a.modified_time)),a.icon&&r&&Z.createElement("div",{className:"notion-google-drive-body-source"},a.icon&&Z.createElement("div",{className:"notion-google-drive-body-source-icon",style:{backgroundImage:`url(${a.icon})`}}),r&&Z.createElement("div",{className:"notion-google-drive-body-source-domain"},r)))))};import rt from"react";var st=({block:e,className:n})=>{let{recordMap:t}=I(),s=t.signed_urls[e.id];return rt.createElement("div",{className:d("notion-audio",n)},rt.createElement("audio",{controls:!0,preload:"none",src:s}))};import R from"react";import at from"react";var lt=e=>{let s=e,{className:n}=s,t=P(s,["className"]);return at.createElement("svg",O(f({className:n},t),{viewBox:"0 0 30 30"}),at.createElement("path",{d:"M22,8v12c0,3.866-3.134,7-7,7s-7-3.134-7-7V8c0-2.762,2.238-5,5-5s5,2.238,5,5v12c0,1.657-1.343,3-3,3s-3-1.343-3-3V8h-2v12c0,2.762,2.238,5,5,5s5-2.238,5-5V8c0-3.866-3.134-7-7-7S6,4.134,6,8v12c0,4.971,4.029,9,9,9s9-4.029,9-9V8H22z"}))};var ct=({block:e,className:n})=>{var r,l;let{components:t,recordMap:s}=I(),a=s.signed_urls[e.id];return R.createElement("div",{className:d("notion-file",n)},R.createElement(t.Link,{className:"notion-file-link",href:a,target:"_blank",rel:"noopener noreferrer"},R.createElement(lt,{className:"notion-file-icon"}),R.createElement("div",{className:"notion-file-info"},R.createElement("div",{className:"notion-file-title"},R.createElement(E,{value:((r=e.properties)==null?void 0:r.title)||[["File"]],block:e})),((l=e.properties)==null?void 0:l.size)&&R.createElement("div",{className:"notion-file-size"},R.createElement(E,{value:e.properties.size,block:e})))))};import Jt from"react";var mt=({block:e,level:n})=>{var a,r;if(!e)return null;let t=e,s=(r=(a=t==null?void 0:t.format)==null?void 0:a.transclusion_reference_pointer)==null?void 0:r.id;return s?Jt.createElement(xe,{key:s,level:n,blockId:s}):null};var dt={},ut=e=>{var Te,Fe,Ee,$e,De,ze,He,Ae,Ve,je,Ge,qe,We,Ze,Je,Ye,Qe,Xe,Ke,Re,eo,oo,to,no,io,ro,so,ao,lo,co,mo,po,uo,fo,go,ho,vo,bo,ko,No,yo,Co,xo,Rt;let n=I(),{components:t,fullPage:s,darkMode:a,recordMap:r,mapPageUrl:l,mapImageUrl:m,showTableOfContents:c,minTableOfContentsItems:p,defaultPageIcon:u,defaultPageCover:N,defaultPageCoverPosition:w}=n,[C,h]=i.useState(null),{block:o,children:v,level:b,className:g,bodyClassName:U,header:z,footer:V,pageHeader:A,pageFooter:y,pageAside:_,pageCover:T,hideBlockId:J,disableHeader:le}=e;if(!o)return null;b===0&&o.type==="collection_view"&&(o.type="collection_view_page");let x=J?"notion-block":`notion-block-${Oe(o.id)}`;switch(o.type){case"collection_view_page":case"page":if(b===0){let{page_icon:k=u,page_cover:B=N,page_cover_position:D=w,page_full_width:M,page_small_text:j}=o.format||{};if(s){let H=o.type==="page"?o.properties:{title:(Fe=(Te=r.collection[o.collection_id])==null?void 0:Te.value)==null?void 0:Fe.name},ee=(1-(D||.5))*100,ue=(Ee=Yt(o,r))!=null?Ee:u,ce=ue&&ge(ue),ne=Ue(o,r),Y=c&&ne.length>=p,ie=(Y||_)&&!M,_e=T||B;return i.createElement("div",{className:d("notion","notion-app",a?"dark-mode":"light-mode",x,g)},i.createElement("div",{className:"notion-viewport"}),i.createElement("div",{className:"notion-frame"},!le&&i.createElement(nt,{header:z}),i.createElement("div",{className:"notion-page-scroller"},_e&&(T||i.createElement("div",{className:"notion-page-cover-wrapper"},i.createElement(Q,{src:m(B,o),alt:de(H==null?void 0:H.title),priority:!0,className:"notion-page-cover",style:{objectPosition:`center ${ee}%`}}))),i.createElement("main",{className:d("notion-page",_e?"notion-page-has-cover":"notion-page-no-cover",k?"notion-page-has-icon":"notion-page-no-icon",ce?"notion-page-has-image-icon":"notion-page-has-text-icon","notion-full-page",M&&"notion-full-width",j&&"notion-small-text",U)},k&&i.createElement(oe,{block:o,defaultIcon:u,inline:!1}),A,i.createElement("h1",{className:"notion-title"},i.createElement(E,{value:H==null?void 0:H.title,block:o})),(o.type==="collection_view_page"||o.type==="page"&&o.parent_table==="collection")&&i.createElement(t.Collection,{block:o,ctx:n}),o.type!=="collection_view_page"&&i.createElement("div",{className:d("notion-page-content",ie&&"notion-page-content-has-aside",Y&&"notion-page-content-has-toc")},i.createElement("article",{className:"notion-page-content-inner"},v),ie&&i.createElement(Yo,{toc:ne,activeSection:C,setActiveSection:h,hasToc:Y,hasAside:ie,pageAside:_})),y),V)))}else return i.createElement("main",{className:d("notion",a?"dark-mode":"light-mode","notion-page",M&&"notion-full-width",j&&"notion-small-text",x,g,U)},i.createElement("div",{className:"notion-viewport"}),A,(o.type==="collection_view_page"||o.type==="page"&&o.parent_table==="collection")&&i.createElement(t.Collection,{block:o,ctx:n}),o.type!=="collection_view_page"&&v,y)}else{let k=($e=o.format)==null?void 0:$e.block_color;return i.createElement(t.PageLink,{className:d("notion-page-link",k&&`notion-${k}`,x),href:l(o.id)},i.createElement(X,{block:o}))}case"header":case"sub_header":case"sub_sub_header":{if(!o.properties)return null;let k=(De=o.format)==null?void 0:De.block_color,B=Oe(o.id),D=de(o.properties.title)||`Notion Header ${B}`,M=dt[o.id],j;if(M===void 0){let ie=pt(o,r);if(ie){let wo=Ue(ie,r).find(ft=>ft.id===o.id);wo&&(M=wo.indentLevel,dt[o.id]=M)}}M!==void 0&&(j=`notion-h-indent-${M}`);let H=o.type==="header",ee=o.type==="sub_header",ue=o.type==="sub_sub_header",ce=d(H&&"notion-h notion-h1",ee&&"notion-h notion-h2",ue&&"notion-h notion-h3",k&&`notion-${k}`,j,x),ne=i.createElement("span",null,i.createElement("div",{id:B,className:"notion-header-anchor"}),!((ze=o.format)!=null&&ze.toggleable)&&i.createElement("a",{className:"notion-hash-link",href:`#${B}`,title:D},i.createElement(Xo,null)),i.createElement("span",{className:"notion-h-title"},i.createElement(E,{value:o.properties.title,block:o}))),Y=i.createElement("h4",{className:ce,"data-id":B},ne);return H?Y=i.createElement("h2",{className:ce,"data-id":B},ne):ee&&(Y=i.createElement("h3",{className:ce,"data-id":B},ne)),(He=o.format)!=null&&He.toggleable?i.createElement("details",{className:d("notion-toggle",x)},i.createElement("summary",null,Y),i.createElement("div",null,v)):Y}case"divider":return i.createElement("hr",{className:d("notion-hr",x)});case"text":{if(!o.properties&&!((Ae=o.content)!=null&&Ae.length))return i.createElement("div",{className:d("notion-blank",x)},"\xA0");let k=(Ve=o.format)==null?void 0:Ve.block_color;return i.createElement("div",{className:d("notion-text",k&&`notion-${k}`,x)},((je=o.properties)==null?void 0:je.title)&&i.createElement(E,{value:o.properties.title,block:o}),v&&i.createElement("div",{className:"notion-text-children"},v))}case"bulleted_list":case"numbered_list":{let k=(j,H)=>o.type==="bulleted_list"?i.createElement("ul",{className:d("notion-list","notion-list-disc",x)},j):i.createElement("ol",{start:H,className:d("notion-list","notion-list-numbered",x)},j),B=null;o.content?B=i.createElement(i.Fragment,null,o.properties&&i.createElement("li",null,i.createElement(E,{value:o.properties.title,block:o})),k(v)):B=o.properties?i.createElement("li",null,i.createElement(E,{value:o.properties.title,block:o})):null;let D=o.type!==((qe=(Ge=r.block[o.parent_id])==null?void 0:Ge.value)==null?void 0:qe.type),M=Bo(o.id,r.block);return D?k(B,M):B}case"embed":return i.createElement(t.Embed,{blockId:x,block:o});case"tweet":case"maps":case"pdf":case"figma":case"typeform":case"codepen":case"excalidraw":case"image":case"gist":case"video":return i.createElement(pe,{blockId:x,block:o});case"drive":return!((We=o.format)==null?void 0:We.drive_properties)&&(Ze=o.format)!=null&&Ze.display_source?i.createElement(pe,{blockId:x,block:o}):i.createElement(it,{block:o,className:x});case"audio":return i.createElement(st,{block:o,className:x});case"file":return i.createElement(ct,{block:o,className:x});case"equation":return i.createElement(t.Equation,{block:o,inline:!1,className:x});case"code":return i.createElement(t.Code,{block:o});case"column_list":return i.createElement("div",{className:d("notion-row",x)},v);case"column":{let k="min(32px, 4vw)",B=((Je=o.format)==null?void 0:Je.column_ratio)||.5,D=(Ye=r.block[o.parent_id])==null?void 0:Ye.value,H={width:`calc((100% - (${(((Qe=D==null?void 0:D.content)==null?void 0:Qe.length)||Math.max(2,Math.ceil(1/B)))-1} * ${k})) * ${B})`};return i.createElement(i.Fragment,null,i.createElement("div",{className:d("notion-column",x),style:H},v),i.createElement("div",{className:"notion-spacer"}))}case"quote":{if(!o.properties)return null;let k=(Xe=o.format)==null?void 0:Xe.block_color;return i.createElement("blockquote",{className:d("notion-quote",k&&`notion-${k}`,x)},i.createElement(E,{value:o.properties.title,block:o}))}case"collection_view":return i.createElement(t.Collection,{block:o,className:x,ctx:n});case"callout":return t.Callout?i.createElement(t.Callout,{block:o,className:x}):i.createElement("div",{className:d("notion-callout",((Ke=o.format)==null?void 0:Ke.block_color)&&`notion-${(Re=o.format)==null?void 0:Re.block_color}_co`,x)},i.createElement(oe,{block:o}),i.createElement("div",{className:"notion-callout-text"},i.createElement(E,{value:(eo=o.properties)==null?void 0:eo.title,block:o}),v));case"bookmark":{if(!o.properties)return null;let k=de((oo=o.properties)==null?void 0:oo.title);if(k||(k=de((to=o.properties)==null?void 0:to.link)),k&&k.startsWith("http"))try{k=new URL(k).hostname}catch(B){}return i.createElement("div",{className:"notion-row"},i.createElement(t.Link,{target:"_blank",rel:"noopener noreferrer",className:d("notion-bookmark",((no=o.format)==null?void 0:no.block_color)&&`notion-${o.format.block_color}`,x),href:o.properties.link[0][0]},i.createElement("div",null,k&&i.createElement("div",{className:"notion-bookmark-title"},i.createElement(E,{value:[[k]],block:o})),((io=o.properties)==null?void 0:io.description)&&i.createElement("div",{className:"notion-bookmark-description"},i.createElement(E,{value:(ro=o.properties)==null?void 0:ro.description,block:o})),i.createElement("div",{className:"notion-bookmark-link"},((so=o.format)==null?void 0:so.bookmark_icon)&&i.createElement("div",{className:"notion-bookmark-link-icon"},i.createElement(Q,{src:m((ao=o.format)==null?void 0:ao.bookmark_icon,o),alt:k})),i.createElement("div",{className:"notion-bookmark-link-text"},i.createElement(E,{value:(lo=o.properties)==null?void 0:lo.link,block:o})))),((co=o.format)==null?void 0:co.bookmark_cover)&&i.createElement("div",{className:"notion-bookmark-image"},i.createElement(Q,{src:m((mo=o.format)==null?void 0:mo.bookmark_cover,o),alt:de((po=o.properties)==null?void 0:po.title),style:{objectFit:"cover"}}))))}case"toggle":return i.createElement("details",{className:d("notion-toggle",x)},i.createElement("summary",null,i.createElement(E,{value:(uo=o.properties)==null?void 0:uo.title,block:o})),i.createElement("div",null,v));case"table_of_contents":{let k=pt(o,r);if(!k)return null;let B=Ue(k,r),D=(fo=o.format)==null?void 0:fo.block_color;return i.createElement("div",{className:d("notion-table-of-contents",D&&`notion-${D}`,x)},B.map(M=>i.createElement("a",{key:M.id,href:`#${Oe(M.id)}`,className:"notion-table-of-contents-item"},i.createElement("span",{className:"notion-table-of-contents-item-body",style:{display:"inline-block",marginLeft:M.indentLevel*24}},M.text))))}case"to_do":{let k=((vo=(ho=(go=o.properties)==null?void 0:go.checked)==null?void 0:ho[0])==null?void 0:vo[0])==="Yes";return i.createElement("div",{className:d("notion-to-do",x)},i.createElement("div",{className:"notion-to-do-item"},i.createElement(t.Checkbox,{blockId:x,isChecked:k}),i.createElement("div",{className:d("notion-to-do-body",k&&"notion-to-do-checked")},i.createElement(E,{value:(bo=o.properties)==null?void 0:bo.title,block:o}))),i.createElement("div",{className:"notion-to-do-children"},v))}case"transclusion_container":return i.createElement("div",{className:d("notion-sync-block",x)},v);case"transclusion_reference":return i.createElement(mt,f({block:o,level:b+1},e));case"alias":{let k=(No=(ko=o==null?void 0:o.format)==null?void 0:ko.alias_pointer)==null?void 0:No.id,B=(yo=r.block[k])==null?void 0:yo.value;return B?i.createElement(t.PageLink,{className:d("notion-page-link",k),href:l(k)},i.createElement(X,{block:B})):(console.log('"alias" missing block',k),null)}case"table":return i.createElement("table",{className:d("notion-simple-table",x)},i.createElement("tbody",null,v));case"table_row":{let k=r.block[o.parent_id].value,B=k.format.table_block_column_order,D=k.format.table_block_column_format;return i.createElement("tr",{className:d("notion-simple-table-row",x)},B.map(M=>{var H,ee;let j=D&&D[M]?(H=D[M])==null?void 0:H.color:null;return i.createElement("td",{key:M,className:j?`notion-${j}`:"",style:{width:D&&D[M]&&((ee=D[M])==null?void 0:ee.width)?D[M].width:120}},i.createElement("div",{className:"notion-simple-table-cell"},i.createElement(E,{value:o.properties?o.properties[M]:[["\u3164"]],block:o})))}))}case"external_object_instance":switch((Co=o.format)==null?void 0:Co.domain){case"github.com":return i.createElement(be,{original_url:(xo=o.format)==null?void 0:xo.original_url,block:!0,className:x});default:return i.createElement("div",null)}default:return i.createElement("div",null)}return null};var Xt=g=>{var U=g,{components:e,recordMap:n,mapPageUrl:t,mapImageUrl:s,searchNotion:a,fullPage:r,rootPageId:l,rootDomain:m,darkMode:c,previewImages:p,forceCustomImages:u,showCollectionViewDropdown:N,showTableOfContents:w,minTableOfContentsItems:C,defaultPageIcon:h,defaultPageCover:o,defaultPageCoverPosition:v}=U,b=P(U,["components","recordMap","mapPageUrl","mapImageUrl","searchNotion","fullPage","rootPageId","rootDomain","darkMode","previewImages","forceCustomImages","showCollectionViewDropdown","showTableOfContents","minTableOfContentsItems","defaultPageIcon","defaultPageCover","defaultPageCoverPosition"]);let z=typeof window!="undefined"&&Qt({background:"rgba(0, 0, 0, 0.8)",margin:Kt()});return we.createElement(Ne,{components:e,recordMap:n,mapPageUrl:t,mapImageUrl:s,searchNotion:a,fullPage:r,rootPageId:l,rootDomain:m,darkMode:c,previewImages:p,forceCustomImages:u,showCollectionViewDropdown:N,showTableOfContents:w,minTableOfContentsItems:C,defaultPageIcon:h,defaultPageCover:o,defaultPageCoverPosition:v,zoom:z},we.createElement(xe,f({},b)))},xe=s=>{var a=s,{level:e=0,blockId:n}=a,t=P(a,["level","blockId"]);var c,p;let{recordMap:r}=I(),l=n||Object.keys(r.block)[0],m=(c=r.block[l])==null?void 0:c.value;return m?we.createElement(ut,f({key:l,level:e,block:m},t),(p=m==null?void 0:m.content)==null?void 0:p.map(u=>we.createElement(xe,f({key:u,blockId:u,level:e+1},t)))):null};function Kt(){let e=window.innerWidth;return e<500?8:e<800?20:e<1280?30:e<1600?40:e<1920?48:72}export{Jo as NotionContextConsumer,Ne as NotionContextProvider,Xt as NotionRenderer,d as cs,Ie as defaultMapImageUrl,Pe as defaultMapPageUrl,ui as dummyLink,he as formatDate,So as getHashFragmentValue,Bo as getListNumber,Uo as getYoutubeId,Mo as isBrowser,ge as isUrl,I as useNotionContext};
//# sourceMappingURL=index.js.map